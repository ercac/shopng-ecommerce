<nav class="navbar">
  <!-- Brand / Logo -->
  <div class="nav-brand">
    <a routerLink="/" class="brand-link">
      <span class="brand-icon">üõçÔ∏è</span>
      <span class="brand-name">ShopNG</span>
    </a>
  </div>

  <!-- Hamburger button for mobile -->
  <button class="hamburger" (click)="toggleMobileMenu()" aria-label="Toggle menu">
    <span class="hamburger-line"></span>
    <span class="hamburger-line"></span>
    <span class="hamburger-line"></span>
  </button>

  <!-- Navigation links + actions (collapsible on mobile) -->
  <div class="nav-content" [class.open]="mobileMenuOpen">

    <!-- Navigation Links -->
    <div class="nav-links">
      <a routerLink="/"
         routerLinkActive="active"
         [routerLinkActiveOptions]="{ exact: true }"
         (click)="mobileMenuOpen = false">
        Home
      </a>
      <a routerLink="/products"
         routerLinkActive="active"
         (click)="mobileMenuOpen = false">
        Products
      </a>
      @if (authService.isAdmin()) {
        <a routerLink="/admin"
           routerLinkActive="active"
           class="admin-link"
           (click)="mobileMenuOpen = false">
          Admin
        </a>
      }
    </div>

    <!-- Search Bar -->
    <div class="nav-search">
      <form (submit)="onSearch()" class="search-form">
        <input
          type="text"
          [(ngModel)]="searchTerm"
          [ngModelOptions]="{ standalone: true }"
          placeholder="Search products..."
          class="search-input"
          aria-label="Search products"
        />
        <button type="submit" class="search-btn" aria-label="Search">
          üîç
        </button>
      </form>
    </div>

    <!-- Cart + Auth Links -->
    <div class="nav-actions">
      <a routerLink="/cart"
         routerLinkActive="active"
         class="cart-link"
         (click)="mobileMenuOpen = false">
        üõí Cart
        @if (cartService.itemCount() > 0) {
          <span class="cart-badge">{{ cartService.itemCount() }}</span>
        }
      </a>
      @if (authService.isLoggedIn()) {
        <a routerLink="/orders"
           routerLinkActive="active"
           class="orders-link"
           (click)="mobileMenuOpen = false">
          Orders
        </a>
        <a routerLink="/settings"
           routerLinkActive="active"
           class="settings-link"
           (click)="mobileMenuOpen = false">
          Settings
        </a>
        <button class="auth-btn logout-btn" (click)="logout()">Logout</button>
      } @else {
        <a routerLink="/login" routerLinkActive="active" class="auth-btn" (click)="mobileMenuOpen = false">Login</a>
      }
    </div>
  </div>
</nav>
